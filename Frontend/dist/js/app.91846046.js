(function(){"use strict";var e={4007:function(e,t,r){var n=r(5130),l=r(6768);const s={id:"app"};function d(e,t,r,n,d,u){const a=(0,l.g2)("AddUser"),o=(0,l.g2)("ListAll"),i=(0,l.g2)("UpdateUser");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(a,{onUserAdded:u.onUserAdded},null,8,["onUserAdded"]),(0,l.bF)(o,{ref:"ListAll",onListClicked:u.onListClicked,onEditUser:u.onEditUser},null,8,["onListClicked","onEditUser"]),d.currentUser?((0,l.uX)(),(0,l.Wv)(i,{key:0,user:d.currentUser,onUserUpdated:u.onUserUpdated},null,8,["user","onUserUpdated"])):(0,l.Q3)("",!0)])}const u=(0,l.Lk)("label",{for:"name"},"Name:",-1),a=(0,l.Lk)("label",{for:"address"},"Address:",-1),o=(0,l.Lk)("label",{for:"tel"},"Telephone:",-1);function i(e,t,r,s,d,i){const c=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>i.addUser&&i.addUser(...e)),["prevent"]))},[(0,l.Lk)("div",null,[u,(0,l.bo)((0,l.Lk)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>d.newUser.name=e),type:"text",required:""},null,512),[[n.Jo,d.newUser.name]])]),(0,l.Lk)("div",null,[a,(0,l.bo)((0,l.Lk)("input",{id:"address","onUpdate:modelValue":t[1]||(t[1]=e=>d.newUser.address=e),type:"text",required:""},null,512),[[n.Jo,d.newUser.address]])]),(0,l.Lk)("div",null,[o,(0,l.bo)((0,l.Lk)("input",{id:"tel","onUpdate:modelValue":t[2]||(t[2]=e=>d.newUser.tel=e),type:"tel",required:""},null,512),[[n.Jo,d.newUser.tel]])]),(0,l.bF)(c,{type:"success","native-type":"submit"},{default:(0,l.k6)((()=>[(0,l.eW)("新增用户")])),_:1})],32)])}var c=r(4877),p={data(){return{newUser:{name:"",address:"",tel:""}}},methods:{addUser(){c.A.post("http://127.0.0.1/list/add",this.newUser).then((e=>{200===e.data.status?(this.$emit("userAdded"),this.newUser={name:"",address:"",tel:""},alert("用户添加成功")):alert("添加用户失败")})).catch((e=>{console.error("添加用户失败:",e)}))}}},f=r(1241);const h=(0,f.A)(p,[["render",i]]);var k=h,U=r(4232);const m=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ID"),(0,l.Lk)("th",null,"Name"),(0,l.Lk)("th",null,"Address"),(0,l.Lk)("th",null,"Telephone"),(0,l.Lk)("th",null,"Actions")])],-1);function L(e,t,r,n,s,d){const u=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("table",null,[m,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.users,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,U.v_)(e.id),1),(0,l.Lk)("td",null,(0,U.v_)(e.name),1),(0,l.Lk)("td",null,(0,U.v_)(e.address),1),(0,l.Lk)("td",null,(0,U.v_)(e.tel),1),(0,l.Lk)("td",null,[(0,l.bF)(u,{type:"primary",size:"small",onClick:t=>d.editUser(e)},{default:(0,l.k6)((()=>[(0,l.eW)("Edit")])),_:2},1032,["onClick"])])])))),128))])]),(0,l.bF)(u,{type:"primary",onClick:d.listClicked},{default:(0,l.k6)((()=>[(0,l.eW)("LIST ALL")])),_:1},8,["onClick"])])}var b={data(){return{users:[]}},methods:{fetchData(){c.A.get("http://127.0.0.1/list/all").then((e=>{this.users=e.data})).catch((e=>{console.error("获取数据失败:",e)}))},listClicked(){this.$emit("listClicked"),this.fetchData()},editUser(e){this.$emit("editUser",e)}}};const v=(0,f.A)(b,[["render",L]]);var y=v;const A=(0,l.Lk)("h2",null,"Update User",-1),g=(0,l.Lk)("label",{for:"userId"},"ID:",-1),D=(0,l.Lk)("label",{for:"name"},"Name:",-1),C=(0,l.Lk)("label",{for:"address"},"Address:",-1),w=(0,l.Lk)("label",{for:"tel"},"Telephone:",-1);function E(e,t,r,s,d,u){const a=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",null,[A,(0,l.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)(((...e)=>u.updateUser&&u.updateUser(...e)),["prevent"]))},[(0,l.Lk)("div",null,[g,(0,l.bo)((0,l.Lk)("input",{id:"userId","onUpdate:modelValue":t[0]||(t[0]=e=>d.userData.id=e),type:"text",disabled:""},null,512),[[n.Jo,d.userData.id]])]),(0,l.Lk)("div",null,[D,(0,l.bo)((0,l.Lk)("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>d.userData.name=e),type:"text",required:""},null,512),[[n.Jo,d.userData.name]])]),(0,l.Lk)("div",null,[C,(0,l.bo)((0,l.Lk)("input",{id:"address","onUpdate:modelValue":t[2]||(t[2]=e=>d.userData.address=e),type:"text",required:""},null,512),[[n.Jo,d.userData.address]])]),(0,l.Lk)("div",null,[w,(0,l.bo)((0,l.Lk)("input",{id:"tel","onUpdate:modelValue":t[3]||(t[3]=e=>d.userData.tel=e),type:"tel",required:""},null,512),[[n.Jo,d.userData.tel]])]),(0,l.bF)(a,{type:"primary","native-type":"submit"},{default:(0,l.k6)((()=>[(0,l.eW)("Update User")])),_:1})],32)])}var O={props:{user:Object},data(){return{userData:{id:"",name:"",address:"",tel:""}}},watch:{user:{immediate:!0,handler(e){this.userData={...e}}}},methods:{updateUser(){console.log(this.userData.id),c.A.put(`http://127.0.0.1/list/update/${this.userData.id}`,this.userData).then((e=>{200===e.data.status?(alert("User updated successfully"),this.$emit("userUpdated")):alert("Failed to update user")})).catch((e=>{console.error("Error updating user:",e),alert("Error updating user")}))}}};const _=(0,f.A)(O,[["render",E]]);var F=_,j={components:{AddUser:k,ListAll:y,UpdateUser:F},data(){return{shouldFetchAfterAdd:!1,currentUser:null}},methods:{onUserAdded(){this.shouldFetchAfterAdd&&(this.$refs.ListAll.fetchData(),this.shouldFetchAfterAdd=!1)},onListClicked(){this.shouldFetchAfterAdd=!0},onEditUser(e){this.currentUser=e},onUserUpdated(){this.$refs.ListAll.fetchData(),this.currentUser=null}}};const x=(0,f.A)(j,[["render",d]]);var $=x,S=r(160);r(4188);const T=(0,n.Ef)($);T.use(S.A),T.mount("#app")}},t={};function r(n){var l=t[n];if(void 0!==l)return l.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,l,s){if(!n){var d=1/0;for(i=0;i<e.length;i++){n=e[i][0],l=e[i][1],s=e[i][2];for(var u=!0,a=0;a<n.length;a++)(!1&s||d>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(u=!1,s<d&&(d=s));if(u){e.splice(i--,1);var o=l();void 0!==o&&(t=o)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[n,l,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,s,d=n[0],u=n[1],a=n[2],o=0;if(d.some((function(t){return 0!==e[t]}))){for(l in u)r.o(u,l)&&(r.m[l]=u[l]);if(a)var i=a(r)}for(t&&t(n);o<d.length;o++)s=d[o],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(i)},n=self["webpackChunkproject_test"]=self["webpackChunkproject_test"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(4007)}));n=r.O(n)})();
//# sourceMappingURL=app.91846046.js.map